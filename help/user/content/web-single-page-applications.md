---
title: 단일 페이지 애플리케이션
description: 단일 페이지 애플리케이션(SPA)을 위한 웹 환경 만들기 - Journey Optimizer B2B edition에서 보기 추적을 구성하고, 다이내믹 콘텐츠를 처리하고, 클라이언트측 탐색을 관리합니다.
feature: Channels, Personalization
role: User
badgeBeta: label="Beta" type="informative" tooltip="이 기능은 현재 제한된 베타 릴리스에 있습니다"
source-git-commit: e50b6830736bf763d3aae6a58595e868bbac36e0
workflow-type: tm+mt
source-wordcount: '835'
ht-degree: 0%

---

# 단일 페이지 애플리케이션

단일 페이지 애플리케이션(SPA)은 전체 페이지를 다시 로드하지 않고 페이지 콘텐츠를 동적으로 업데이트하므로 웹 개인화에 고유한 문제를 제공합니다. Journey Optimizer B2B edition은 SPA 개인화를 효과적으로 처리할 수 있는 전문 도구를 제공합니다.

## SPA 이해

각 탐색에서 전체 페이지 로드를 트리거하는 기존 다중 페이지 웹 사이트와 달리 SPA는 JavaScript을 사용하여 단일 HTML 페이지를 유지하면서 콘텐츠를 동적으로 업데이트합니다. 이 접근 방식은 웹 경험에 대한 몇 가지 고려 사항을 만듭니다.

* **페이지 다시 로드 없음** - 기존 페이지 로드 이벤트를 트리거하지 않고 콘텐츠가 변경됩니다.
* **가상 보기** - SPA에서 별도의 페이지로 추적해야 하는 다른 _보기_ 또는 _화면_.
* **클라이언트측 라우팅** - JavaScript 라우터(예: React 라우터, Vue 라우터 및 Angular 라우터)가 서버 요청이 아닌 탐색을 처리합니다.
* **동적 DOM** - 페이지 요소는 초기 페이지 로드 후 생성, 수정 또는 제거될 수 있습니다.

## SPA 지원 구성

SPA를 효과적으로 개인화하려면 Journey Optimizer B2B edition에서 사용자가 가상 보기 사이를 이동하는 시기를 식별할 수 있도록 보기 추적을 구성해야 합니다.

### 보기 선언 설정

개발 팀과 함께 Adobe Web SDK을 사용하여 보기 선언을 구현합니다. SPA에서 새 보기로 이동할 때마다 이러한 보기 선언을 사용하려면 보기 정보가 있는 `sendEvent` 명령을 호출해야 합니다.

**예제 구현:**

```javascript
// When a new view is rendered in your SPA
alloy("sendEvent", {
  "xdm": {
    "web": {
      "webPageDetails": {
        "viewName": "product-detail",
        "URL": window.location.href
      }
    }
  },
  "data": {
    "__adobe": {
      "target": {
        "viewName": "product-detail"
      }
    }
  }
});
```

### 이름 지정 규칙 보기

애플리케이션의 논리 구조와 일치하는 일관되고 설명적인 보기 이름을 사용합니다.

| 보기 | 예제 이름 |
| ---- | ------------ |
| 홈 페이지 | `home` |
| 제품 목록 | `product-list` |
| 제품 세부 사항 | `product-detail` |
| 장바구니 | `cart` |
| 체크아웃 | `checkout` |
| 계정 대시보드 | `account-dashboard` |

>[!NOTE]
>
>보기 이름은 대소문자를 구분합니다. 구현에서 일관된 명명 규칙을 사용합니다(하이픈이 있는 소문자가 권장됨).

## SPA용 웹 환경 만들기

SPA용 웹 경험을 만들 때 다음 모범 사례를 고려하십시오.

### Target 특정 보기

* [웹 채널 구성](../admin/configure-channels-web.md)에서 SPA 라우팅 구조에 맞는 URL 일치 규칙을 설정합니다.

* 수정 사항을 작성할 때 수정 사항을 적용해야 하는 뷰를 지정합니다.

* 각 보기에 특정한 요소를 대상으로 하는 CSS 선택기를 사용하십시오.

### 다이내믹 콘텐츠 처리

SPA는 종종 초기 페이지 렌더링 후 콘텐츠를 동적으로 로드합니다. 수정 사항이 올바르게 적용되도록 하려면 다음 기술을 사용하십시오.

#### 요소 대기

적용하기 전에 대상 요소가 존재할 때까지 기다리도록 수정 사항을 구성합니다.

1. 시각적이지 않은 편집기에서 CSS 선택기를 사용하여 수정 사항을 추가합니다.

1. **[!UICONTROL 요소 대기]**&#x200B;를 사용하도록 설정하고 최대 대기 시간을 지정하십시오.

1. 수정 사항은 대상 요소가 DOM에 나타나면 적용됩니다.

#### 돌연변이 관찰자 사용

매우 동적인 콘텐츠의 경우, 웹 SDK에는 페이지에 새 요소가 추가되는 시기를 감지하는 내장 돌연변이 관찰자가 포함됩니다. 이러한 관찰자는 요소가 비동기적으로 로드되는 경우에도 수정 사항이 적용되도록 합니다.

### SPA 프레임워크

Journey Optimizer B2B edition 웹 경험은 인기 있는 SPA 프레임워크에서 작동합니다.

| 프레임워크 | 고려 사항 |
| --------- | -------------- |
| **React** | React가 구성 요소를 DOM으로 렌더링한 후 수정 사항이 적용됩니다. 타깃팅에 클래스 이름 또는 데이터 속성을 사용합니다. |
| **Angular** | Angular의 변경 내용 감지가 실행된 후 요소를 타겟팅합니다. 렌더링하기 전에 `*ngIf`을(를) 사용하여 요소를 타깃팅하지 마십시오. |
| **Vue.js** | Vue의 `nextTick`에서 요소가 DOM에 있는지 확인할 때까지 기다립니다. 안정적인 타깃팅을 위해 참조 또는 사용자 지정 특성을 사용합니다. |
| **Next.js / Nuxt.js** | SSR/SSG 페이지의 경우 수정이 예상되기 전에 웹 SDK 하이드레이션이 완료되었는지 확인하십시오. |

## SPA 개인화에 대한 우수 사례

### 안정적인 선택기 사용

SPA는 종종 동적 클래스 이름 또는 ID를 생성합니다(특히 CSS-in-JS 솔루션 사용). 또는 다음을 사용할 수 있습니다.

* **데이터 특성** - 타깃팅할 요소에 사용자 지정 데이터 특성(`data-testid`, `data-section` 등)을 추가합니다.
* **의미 있는 HTML** - HTML 구조 및 의미 있는 요소를 기반으로 타깃팅합니다.
* **ID 특성** - 가능한 경우 안정적인 ID 특성을 사용합니다.

**예:**

```html
<!-- Instead of targeting dynamic class names -->
<button class="css-1a2b3c4d">Sign Up</button>

<!-- Add a stable data attribute -->
<button class="css-1a2b3c4d" data-action="signup">Sign Up</button>
```

**CSS 선택기:** `[data-action="signup"]`

### 테스트 보기

SPA 웹 경험을 테스트할 때:

1. 수정 사항이 적용되는 모든 보기를 탐색합니다.

1. 다음을 포함한 전체 사용자 흐름을 테스트합니다.
   * 뷰로 직접 탐색(딥링크)
   * SPA 내의 다른 보기에서 탐색
   * 브라우저 뒤로 및 앞으로 탐색

1. 이전에 방문한 보기로 돌아갈 때 수정 사항이 다시 적용되는지 확인합니다.

### 보기 전환 처리

일부 SPA에서는 보기 간에 애니메이션이나 전환을 사용합니다. 고려 사항:

* **타이밍** - 전환 애니메이션이 완료된 후에 수정 사항이 적용되는지 확인하십시오.
* **요소 가시성** - 요소가 있을 수 있지만 전환 중에 숨겨져 있습니다.
* **깜박임** - 표시되는 콘텐츠 변경을 방지할 수 있도록 수정 사항을 조기에 적용합니다.

## 문제 해결

SPA 디자인 변경 사항을 검토할 때 다음 권장 사항을 사용하여 몇 가지 일반적인 문제를 해결하십시오.

* **수정 사항이 표시되지 않음** - SPA에 수정 사항이 표시되지 않는 경우:

   1. **보기 추적 확인** - `sendEvent` 호출에 올바른 보기 이름이 포함되어 있는지 확인하십시오.

   1. **요소 존재 확인** - 수정 사항이 적용될 때 대상 요소가 DOM에 있는지 확인합니다.

   1. **선택기 검토** - CSS 선택기가 실제 DOM 구조와 일치하는지 확인합니다.

   1. **콘솔 확인** - 수정을 방지할 수 있는 JavaScript 오류를 찾습니다.

* **수정 사항이 잠시 나타났다가 사라짐** - 이 문제는 일반적으로 SPA가 다시 렌더링하고 수정된 요소를 대체할 때 발생합니다.

   1. 렌더링 간 안정적인 상태를 유지하는 보다 구체적인 CSS 선택기를 사용하십시오.

   1. 요소를 다시 만들 때 변형 관찰자가 수정 사항을 다시 적용할 수 있도록 합니다.

   1. 개발 팀과 함께 타겟 요소에 안정적인 특성을 추가합니다.

* **중복 수정** - 수정 내용이 여러 번 나타나는 경우:

   1. 보기 추적 이벤트가 보기 전환당 한 번만 발생하는지 확인합니다.

   1. 수정 사항이 전체적으로 적용되지 않고 특정 보기에 범위가 지정되는지 확인합니다.

## 관련 항목

* [웹 경험 개요](./web-experiences.md)
* [웹 경험 디자인](./web-experience-design.md)
* [웹 채널 구성](../admin/configure-channels-web.md)